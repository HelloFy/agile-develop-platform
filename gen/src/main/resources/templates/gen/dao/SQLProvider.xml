<?xml version="1.0" encoding="utf-8"?>
<template>
    <name>SQLProvider</name>
    <filePath>src/main/java/${packageName}/${moduleName}/dao/${subModuleName}/provider</filePath>
    <fileName>I${ClassName}DaoSQLProvider.java</fileName>
    <content><![CDATA[
/**
 * Copyright &copy; 2012-2016 <a href="https://github.com/thinkgem/jeesite">JeeSite</a> All rights reserved.
 */
package ${packageName}.${moduleName}.dao<#if subModuleName != "">.${subModuleName}</#if>.provider;

import cn.edu.xidian.platform.commons.utils.StringUtils;

import ${packageName}.${moduleName}.entity<#if subModuleName != "">.${subModuleName}</#if>.${ClassName};


/**
 * ${functionName} SQLProvider
 * @author ${functionAuthor}
 * @version ${functionVersion}
 */

public class I${ClassName}DaoSQLProvider  {

	public String findList(${ClassName} ${className}){
 		StringBuilder sql = new StringBuilder();
        sql.append("SELECT a.* FROM ${table.tableName} a WHERE 1=1 ");
        <#list table.columnList as c>
				<#if (c.isQuery?? && c.isQuery == "1")>
					<#if c.queryType ?? && c.queryType == 'between'>
			<if test="begin${c.simpleJavaField?cap_first} != null and end${c.simpleJavaField?cap_first} != null <#if c.simpleJavaField != c.javaFieldId>and begin${c.javaFieldId?cap_first} != null and end${c.javaFieldId?cap_first} != null </#if>and begin${c.javaFieldId?cap_first} != '' and end${c.javaFieldId?cap_first} != ''">
					<#else>
			<if test="${c.simpleJavaField} != null<#if c.simpleJavaField != c.javaFieldId> and ${c.javaFieldId} != null</#if> and ${c.javaFieldId} != ''">
					</#if>
					<#if c.queryType ?? && c.queryType == 'between'>
				sql.append(" AND a.${c.name} BETWEEN ${"#"}{begin${c.simpleJavaField?cap_first}} AND ${"#"}{end${c.simpleJavaField?cap_first}}");
					<#elseif c.queryType ?? && c.queryType == 'like'>
				sql.append(" AND a.${c.name} LIKE concat('%',${"#"}{${c.javaFieldId}},'%'"));
					<#else>
				sql.append(" AND a.${c.name} ${c.queryType} ${"#"}{${c.javaFieldId}}");
					</#if>
				</#if>
			</#list>
        return sql;
	}
}]]>
    </content>
</template>